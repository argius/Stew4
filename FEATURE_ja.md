% Stew4の新機能と変更点


## 新機能

バージョン4.2の主な新機能は以下のとおりです。

コマンド履歴の全表示(GUI)
:   すべてのコマンド履歴をダイアログで表示し、そこからコマンド履歴を
    選択する機能を追加しました。


バージョン4.1で追加された新機能はありません。


バージョン4の主な新機能は以下のとおりです。
各機能の詳細については、マニュアル(MANUAL_ja.html)をご覧ください。

特殊コマンド "-s" - スクリプトの実行
:   ファイルをスクリプト(JavaScript)として実行します。
    これは、コマンドクラスの代わりに使用することができます。

特殊コマンド "?" - システムプロパティの表示
:   システムプロパティを表示します。(System.getProperty)
    引数を指定しない場合は、JRE,OS,Localeの情報を表示します。

データベース情報ツリーのノード自動展開(GUI)
:   データベース接続時に、指定しておいたノードを自動展開します。
    システムディレクトリに"autoexpansion.tsv"というファイルを
    作成する必要があります。


## 変更点

バージョン4.2での主な変更は以下のとおりです。

情報ツリーをフォーカス移動対象に追加(GUI)
:   バージョン4.1までは、フォーカス移動は結果テーブルとテキスト欄の間だけでした。
    バージョン4.2では、情報ツリー→結果テーブル→テキスト欄になりました。


バージョン4.1での主な変更は以下のとおりです。

スクリプト機能の強化
:   バージョン4.0では、スクリプト機能（"-s"コマンド）は、
    JavaScriptのみ使用可能、ファイルからだけ実行可能、ステートレス
    のように限定的でした。
    バージョン4.1で、スクリプト機能は次のように強化されました。

     * どのスクリプト言語でも使える (スクリプトエンジンに対応していれば)
     * パラメータをスクリプトとして使える
     * Script Context の導入 (グローバルスコープバインディング)


検索パネルの位置を変更
:   バージョン3.0から、情報ツリーが追加され、そのツリー内も検索が
    できるようになっているのにも関わらず、検索パネルの位置は
    テキスト入力欄の下になっていました。
    バージョン4.1で、検索パネルをステータスバーの上に表示するように
    変更しました。


バージョン3から4への主な変更点は以下のとおりです。

Java6以降のみサポート
:   Java5.0が対象外となりました。
    より効率の良い実装を行うため、
    Java6の新しい言語機能とAPIを導入しています。

実装の整理
:   Java6への移行に伴い、実装の整理を行いました。
    具体的には、不要クラスの削除と、より適切なAPIを使用するようにしました。


## その他

接続設定ファイル(connector.properties)は、バージョン3と互換性があります。
